{"version":3,"sources":["api/index.js","components/SearchBar.js","components/Card.js","components/SearchResults.js","components/DeckList.js","index.js"],"names":["fetchCards","a","name","text","axios","get","data","cards","SearchBar","setResults","useState","setName","setText","event","preventDefault","id","onSubmit","type","placeholder","value","onChange","target","card","manaCost","flavor","imageUrl","addCardToDeck","removeCardFromDeck","className","src","onClick","SearchResults","results","length","map","result","key","DeckList","deck","cardCount","reduce","count","App","setDeck","nextDeck","index","findIndex","push","splice","ReactDOM","render","document","getElementById"],"mappings":"+SAKS,SAAeA,EAAtB,kC,4CAAO,mCAAAC,EAAA,6DAA4BC,EAA5B,EAA4BA,KAAMC,EAAlC,EAAkCA,KAAlC,kBAEsBC,IAAMC,IAAN,yDACgCH,EADhC,iBAC+CC,IAHrE,uBAEOG,EAFP,EAEOA,KAFP,kBAKMA,EAAKC,OAAS,IALpB,qG,sBCIT,IA0CeC,EA1CG,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAAiB,EAEVC,mBAAS,IAFC,mBAE3BR,EAF2B,KAErBS,EAFqB,OAGVD,mBAAS,IAHC,mBAG3BP,EAH2B,KAGrBS,EAHqB,iDAalC,WAA4BC,GAA5B,eAAAZ,EAAA,6DACIY,EAAMC,iBADV,SAEwBd,EAAW,CAC3BE,OACAC,SAJR,OAEUI,EAFV,OAMIE,EAAWF,GANf,4CAbkC,sBAsBlC,OACI,yBAAKQ,GAAG,UACJ,qDACA,0BAAMC,SAzBoB,6CA0BtB,2BACIC,KAAK,OACLC,YAAY,YACZC,MAAQjB,EACRkB,SAzBS,SAAAP,GACrBF,EAASE,EAAMQ,OAAOF,UAyBd,2BACIF,KAAK,OACLC,YAAY,YACZC,MAAQhB,EACRiB,SA1BS,SAAAP,GACrBD,EAASC,EAAMQ,OAAOF,UA0Bd,4BAAQF,KAAK,UAAb,aCaDK,G,YAnDF,SAAC,GAUP,IATHP,EASE,EATFA,GACAb,EAQE,EARFA,KACAe,EAOE,EAPFA,KACAM,EAME,EANFA,SACApB,EAKE,EALFA,KACAqB,EAIE,EAJFA,OACAC,EAGE,EAHFA,SACAC,EAEE,EAFFA,cACAC,EACE,EADFA,mBAEA,OACI,yBAAKC,UAAU,QACX,yBAAKA,UAAU,QACX,uBAAGA,UAAU,UACP1B,EADN,MACiBqB,GAEjB,uBAAGK,UAAU,QACPX,GAEN,uBAAGW,UAAU,QACPzB,GAEN,uBAAGyB,UAAU,UACPJ,IAGV,yBAAKI,UAAU,UAAUC,IAAOJ,IAChC,yBAAKG,UAAU,WACX,4BACAE,QAAS,WACLJ,EAAc,CACVX,KACAb,WAJR,mBASA,4BACA4B,QAAS,WACLH,EAAmB,CACfZ,SAHR,4BCPDgB,EA1BO,SAAC,GAIf,IAHJC,EAGG,EAHHA,QACAN,EAEG,EAFHA,cACAC,EACG,EADHA,mBAGA,OACI,yBAAKZ,GAAG,WACJ,qDAC4BiB,EAAQC,OADpC,cAGA,yBAAKL,UAAU,YAEXI,EAAQE,KAAI,SAAAC,GAAM,OACd,kBAAC,EAAD,eACAC,IAAMD,EAAOpB,GACbW,cAAgBA,EAChBC,mBAAuBA,GAClBQ,UCSVE,EAjCE,SAAC,GAIX,IAHHC,EAGE,EAHFA,KACAZ,EAEE,EAFFA,cACAC,EACE,EADFA,mBAGIY,EAAYD,EAAKE,QAAO,SAACD,EAAWjB,GAAZ,OAAqBiB,EAAYjB,EAAKmB,QAAO,GAEzE,OACI,yBAAK1B,GAAG,QACJ,gDAAuBwB,EAAvB,YACA,yBAAKX,UAAU,YACVU,EAAKJ,KAAI,gBAAGnB,EAAH,EAAGA,GAAIb,EAAP,EAAOA,KAAMuC,EAAb,EAAaA,MAAb,OACN,uBAAGL,IAAMrB,GACL,kCACO0B,EADP,MACmBvC,GACZ,6BACP,4BACA4B,QACI,kBAAMJ,EAAc,CAAEX,KAAIb,WAF9B,OAIA,4BACA4B,QACI,kBAAMH,EAAmB,CAAEZ,SAF/B,cCVlB2B,G,MAAM,WAAO,IAAD,EAEgBhC,mBAAS,IAFzB,mBAEPsB,EAFO,KAEEvB,EAFF,OAGUC,mBAAS,IAHnB,mBAGP4B,EAHO,KAGDK,EAHC,KAKRjB,EAAgB,SAAC,GAAkB,IAAhBX,EAAe,EAAfA,GAAIb,EAAW,EAAXA,KACnB0C,EAAQ,YAAON,GACfO,EAAQD,EAASE,WAAU,SAAAxB,GAAI,OAAIA,EAAKP,KAAOA,KAElD8B,GAAS,EACRD,EAASC,GAAOJ,OAAS,EAEzBG,EAASG,KAAK,CACVhC,KACAb,OACAuC,MAAO,IAIfE,EAAQC,IAGNjB,EAAqB,SAAC,GAAY,IAAVZ,EAAS,EAATA,GACpB6B,EAAQ,YAAON,GACfO,EAAQD,EAASE,WAAU,SAAAxB,GAAI,OAAIA,EAAKP,KAAOA,MAEvC,IAAX8B,IAI0B,IAA1BD,EAASC,GAAOJ,MACfG,EAASI,OAAOH,EAAO,GAEvBD,EAASC,GAAOJ,OAAS,EAG7BE,EAAQC,KAGZ,OACI,yBAAK7B,GAAG,OACJ,kBAAC,EAAD,CAAWN,WAAaA,IACxB,kBAAC,EAAD,CACIuB,QAAUA,EACVN,cAAgBA,EAChBC,mBAAqBA,IACzB,kBAAC,EAAD,CACAW,KAAOA,EACPZ,cAAeA,EACfC,mBAAoBA,OAKhCsB,IAASC,OACL,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.bc5c19b9.chunk.js","sourcesContent":["// src/api/index.js\n\n\nimport axios from 'axios';\n  \n  export async function fetchCards({ name, text }) {\n    try {\n        const { data } = await axios.get(\n            `https://api.magicthegathering.io/v1/cards?name=${ name }&text=${ text }`\n        );\n        return data.cards || [];\n    }\n    catch(err) {\n        throw err;\n    }\n  }","// src/components/SearchBar.js\n\n\nimport React, { useState } from 'react';\n\nimport {\n    fetchCards,\n} from '../api';\n\nconst SearchBar = ({ setResults }) => {\n\n    const [name, setName] = useState('');\n    const [text, setText] = useState('');\n\n    const handleNameChange = event => {\n        setName( event.target.value);\n    }\n\n    const handleTextChange = event => {\n        setText( event.target.value );\n    }\n\n    async function handleSubmit(event) {\n        event.preventDefault();\n        const cards = await fetchCards({\n            name,\n            text\n        });\n        setResults(cards);\n    }\n\n    return(\n        <div id=\"search\">\n            <h3>Look up cards here...</h3>\n            <form onSubmit={ handleSubmit }>\n                <input\n                    type=\"text\"\n                    placeholder=\"card name\"\n                    value={ name }\n                    onChange={ handleNameChange } />\n                <input\n                    type=\"text\"\n                    placeholder=\"card text\"\n                    value={ text }\n                    onChange={ handleTextChange } />\n                <button type=\"submit\">Search</button>\n            </form>\n        </div>\n    );\n}\n\nexport default SearchBar;","// src/components/Card.justify\n\n\nimport React from 'react';\n\nimport './Card.css';\n\nconst card = ({\n    id,\n    name,\n    type,\n    manaCost,\n    text,\n    flavor,\n    imageUrl,\n    addCardToDeck,\n    removeCardFromDeck\n}) => {\n    return(\n        <div className=\"Card\">\n            <div className=\"info\">\n                <p className=\"header\">\n                    { name } - { manaCost }\n                </p>\n                <p className=\"type\">\n                    { type }\n                </p>\n                <p className=\"text\">\n                    { text }\n                </p>\n                <p className=\"flavor\">\n                    { flavor }\n                </p>\n            </div>\n            <img className=\"preview\" src= { imageUrl } />\n            <div className=\"actions\">\n                <button\n                onClick={() => {\n                    addCardToDeck({\n                        id,\n                        name\n                    })\n                }}>\n                    (+) Add to Deck\n                </button>\n                <button\n                onClick={() => {\n                    removeCardFromDeck({\n                        id\n                    })\n                }}>\n                    (-) Remove From Deck\n                </button>\n            </div>\n        </div>\n    );\n}\n\nexport default card;","// src/components/SearchResults.js\n\n\nimport React from 'react';\n\nimport './SearchResults.css';\n\nimport Card from './Card';\n\n\n\n\nconst SearchResults = ({\n    results,\n    addCardToDeck,\n    removeCardFromDeck\n }) => {\n\n    return(\n        <div id=\"results\">\n            <h3>\n                Here's what we found ({ results.length } results):\n            </h3>\n            <div className=\"CardList\">\n            {\n                results.map(result => (\n                    <Card\n                    key={ result.id }\n                    addCardToDeck={ addCardToDeck }\n                    removeCardFromDeck = { removeCardFromDeck }\n                    { ...result } />\n                ))\n            }\n            </div>\n        </div>\n    );\n}\n\nexport default SearchResults;","// src/components/DeckList.js\n\n\nimport React from 'react';\n\n\nconst DeckList = ({\n    deck,\n    addCardToDeck,\n    removeCardFromDeck\n}) => {\n    \n    let cardCount = deck.reduce((cardCount, card) => cardCount + card.count, 0);\n    \n    return (\n        <div id=\"deck\">\n            <h3>Your deck so far({ cardCount } cards):</h3>\n            <div className=\"DeckList\">\n                {deck.map(({ id, name, count }) => (\n                    <p key={ id }>\n                        <span>\n                            ({ count }x) { name }\n                        </span><br />\n                        <button\n                        onClick={\n                            () => addCardToDeck({ id, name })\n                        }> + </button>\n                        <button\n                        onClick={\n                            () => removeCardFromDeck({ id })\n                        }> - </button>\n                    </p>\n                ))}\n            </div>\n        </div>\n    );\n\n}\n\nexport default DeckList;","// src/index.js\n\nimport React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport axios from 'axios';\n\nimport {\n    DeckList,\n    SearchBar,\n    SearchResults\n} from './components';\nimport { fetchCards } from './api';\nimport './index.css'\n\n\n\nconst App = () => {\n\n    const [results, setResults] = useState([]);\n    const [deck, setDeck] = useState([]);\n\n    const addCardToDeck = ({ id, name }) => {\n        const nextDeck = [...deck];\n        const index = nextDeck.findIndex(card => card.id === id);\n\n        if(index > -1) {\n            nextDeck[index].count += 1;\n        } else {\n            nextDeck.push({\n                id,\n                name,\n                count: 1\n            });\n        }\n\n        setDeck(nextDeck);\n    }\n\n    const removeCardFromDeck = ({ id }) => {\n        const nextDeck = [...deck];\n        const index = nextDeck.findIndex(card => card.id === id);\n\n        if(index === -1){\n            return;\n        }\n\n        if(nextDeck[index].count === 1){\n            nextDeck.splice(index, 1);\n        } else {\n            nextDeck[index].count -= 1;\n        }\n\n        setDeck(nextDeck);\n    }\n\n    return (\n        <div id=\"app\">\n            <SearchBar setResults={ setResults }/>\n            <SearchResults\n                results={ results }\n                addCardToDeck={ addCardToDeck }\n                removeCardFromDeck={ removeCardFromDeck } />\n            <DeckList\n            deck={ deck }\n            addCardToDeck={addCardToDeck}\n            removeCardFromDeck={removeCardFromDeck} />\n        </div>\n    );\n}\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);"],"sourceRoot":""}